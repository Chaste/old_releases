<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
 <title>Chaste User Tutorial</title>
 <link rel="stylesheet" href="https://chaste.github.io/old_releases/trac.css" type="text/css" />
 <link rel="stylesheet" href="https://chaste.github.io/old_releases/wiki.css" type="text/css" />


 <style type="text/css">
/* Link styles */
:link, :visited, a em {
 text-decoration: none;
 color: #283f6b;
 border-bottom: 1px dotted #bbb;
}
/*
:link:hover, :visited:hover {
 background-color: #eee;
 color: #555;
}
*/
</style>

</head>
<body>
<a id="logo" href="https://chaste.github.io/">
  <img src="https://chaste.github.io/chaste_0256.png" alt="Chaste logo" height="60" />
</a>
<h1> WritingTests tutorial file </h1>      </div>
    <div id="content" class="wiki">
      <div class="wikipage searchable">
        
          <p>
This tutorial is <strong>not</strong> automatically generated from a file.
</p>
<p>
In this tutorial we show how to write a test using CxxTest.
</p>
<p>
The following header file need to be included.
</p>
<div class="code"><pre>#include &lt;cxxtest/TestSuite.h&gt;
</pre></div><p>
Now we have to define a class containing the tests. It is sensible to 
name the class the same name as the filename. The class should inherit
from <tt>CxxTest::TestSuite</tt>.
</p>
<div class="code"><pre>class TestWritingTestsTutorial : public CxxTest::TestSuite
{
</pre></div><p>
Now we can define some tests, which must be <strong>public</strong>, begin with the word 'Test' return <tt>void</tt>, and take in no parameters.
</p>
<div class="code"><pre>public:
    void TestOnePlusOneEqualsTwo()
    {
</pre></div><p>
To test two integers are equal, we can use the macro <tt>TS_ASSERT_EQUALS</tt>.
</p>
<div class="code"><pre>        int some_number = 1+1;
        TS_ASSERT_EQUALS(some_number, 2);
</pre></div><p>
To test whether two numbers are equal to within a certain (absolute) tolerance we can use <tt>TS_ASSERT_DELTA</tt>. This should
almost always be used when comparing two <tt>double</tt>s.
</p>
<div class="code"><pre>        double another_number = 1.000001+1.0001;
        TS_ASSERT_DELTA(another_number, 2.0, 1e-2);
    }
</pre></div><p>
This second test shows some of the other <tt>TS_ASSERT</tt> macros that are available. 
</p>
<div class="code"><pre>    void TestSomeOtherStuff()
    {
        TS_ASSERT( 1==1 ); // however, it is better to use TS_ASSERT_EQUALS, below
        TS_ASSERT_EQUALS( (true||false), true);
        TS_ASSERT_DIFFERS( 1.348329534564385643543957436, 1.348329534564395643543957436);
        TS_ASSERT_LESS_THAN(2.71828183, 3.14159265); // Note: to test if y is greater than x, use TS_ASSERT_LESS_THAN(y,x).
        TS_ASSERT_LESS_THAN_EQUALS(-1e100, 1e100);
        TS_ASSERT_THROWS_ANYTHING( throw 0; ); // normally you would put a function call inside the brackets

        double x;
        TS_ASSERT_THROWS_NOTHING( x=1; );  // normally you would put a function call inside the brackets
    }
};
</pre></div><p>
Note that methods which don't start with 'Test' are compiled but not run. So, if you want to stop a single test running, just put
an 'x' or a 'don't' before its name
</p>
<div class="code"><pre>    void dontTestThis()
    {
        TS_ASSERT_EQUALS(1,2);
    }
</pre></div><h1 id="Code">Code</h1>
<p>
The full code is given below
</p>
<div class="code"><pre>#include &lt;cxxtest/TestSuite.h&gt;

class TestWritingTestsTutorial : public CxxTest::TestSuite
{
public:
    void TestOnePlusOneEqualsTwo()
    {
        int some_number = 1+1;
        TS_ASSERT_EQUALS(some_number, 2);
        double another_number = 1.000001+1.0001;
        TS_ASSERT_DELTA(another_number, 2.0, 1e-2);
    }

    void TestSomeOtherStuff()
    {
        TS_ASSERT( 1==1 );
        TS_ASSERT_EQUALS( (true||false), true);
        TS_ASSERT_DIFFERS( 1.348329534564385643543957436, 1.348329534564395643543957436);
        TS_ASSERT_LESS_THAN(2.71828183, 3.14159265);
        TS_ASSERT_LESS_THAN_EQUALS(-1e100, 1e100);
        TS_ASSERT_THROWS_ANYTHING( throw 0; );
    }

    void dontTestThis()
    {
        TS_ASSERT_EQUALS(1,2);
    }
};
</pre></div>
        
        
      </div>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
  <head>
    <title>ChasteGuides/VisualisationGuides/UsingMeshalyzer - Chaste</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="/trac-static/css/trac.css" type="text/css" />
    <link rel="stylesheet" href="/trac-static/css/wiki.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="/trac-static/css/site.css" />
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <p>
          <a id="logo" href="http://www.cs.ox.ac.uk/chaste"><img src="/logos/chaste-266x60.jpg" alt="Chaste logo" height="60" width="266" /></a>
          <em>Documentation for <a href="/chaste/tutorials/release_2021.1/">Release 2021.1</a>.</em>
        </p>
      </div>
    </div>
    <p>&nbsp;</p>
    <div id="content" class="wiki">
      <div class="wikipage searchable">
        
          <div id="wikipage" class="trac-content"><h1 id="VisualisingcardiacsimulationswithMeshalyzer">Visualising cardiac simulations with Meshalyzer</h1>
<p>
This page shows how to use the Meshalyzer visualization tool.
</p>
<p>
If your results were generated using Chaste, then you will find the meshalyzer output within a subdirectory of your results directory called <em>output</em>. 
</p>
<p>
The files that describe the geometry are:
</p>
<ul><li>FILENAME_mesh.pts (the nodes of the mesh you sued in your simulation)
</li><li>FILENAME_mesh.tri and FILENAME_mesh.tetras (the connections between the nodes)
</li></ul><p>
The output data of your simulation are in files called 
</p>
<ul><li>FILENAME_VARIABLENAME.dat
</li></ul><p>
where you will have as many files as many output variables (typically the unknowns) of your simulation.
</p>
<p>
First thing to do is to fire up the meshalyzer executable you downloaded. Simply open a terminal and type the path to the meshalyzer executable. You will be prompted with a window like this one
</p>
<p>
<a style="padding:0; border:none" href="/chaste/tutorials/release_2021.1/ChasteGuides/VisualisationGuides/UsingMeshalyzer/meshalyzer_first.png"><img src="/chaste/tutorials/release_2021.1/ChasteGuides/VisualisationGuides/UsingMeshalyzer/meshalyzer_first.png" /></a>
</p>
<p>
where you will be asked to choose a mesh file. Navigate your way to your simulation results directory (<em>output</em> sub-directory) until you find the <em>.pts</em> file that describes the geometry of your simulation. Select it and click OK. This will pop up two windows that look like this at first
</p>
<p>
<a style="padding:0; border:none" href="/chaste/tutorials/release_2021.1/ChasteGuides/VisualisationGuides/UsingMeshalyzer/meshalyzer_second.png"><img src="/chaste/tutorials/release_2021.1/ChasteGuides/VisualisationGuides/UsingMeshalyzer/meshalyzer_second.png" /></a>
</p>
<p>
the one on the right is the Control Panel. The one on the left is where the visualization will occur. At the moment that is blank. To view the geometry, simply click on the <em>Vertices</em> Button as shown here
</p>
<p>
<a style="padding:0; border:none" href="/chaste/tutorials/release_2021.1/ChasteGuides/VisualisationGuides/UsingMeshalyzer/meshalyzer_third.png"><img src="/chaste/tutorials/release_2021.1/ChasteGuides/VisualisationGuides/UsingMeshalyzer/meshalyzer_third.png" /></a>
</p>
<p>
in this example, the geometry is just a cube. The mouse buttons for meshalyzer visualization window are as follows:
</p>
<ul><li>Left-click and move --&gt; Rotate object
</li><li>Right-click and move up --&gt; Zoon-out
</li><li>Right-click and move down --&gt; Zoom-in
</li></ul><p>
If you want to add connection between nodes, click on File--&gt; Add Surface and find your FILENAME_mesh.tri file. After doing this, you can click on the "Surface" button in the Control Panel and see something like
</p>
<p>
<a style="padding:0; border:none" href="/chaste/tutorials/release_2021.1/ChasteGuides/VisualisationGuides/UsingMeshalyzer/meshalyzer_fourth.png"><img src="/chaste/tutorials/release_2021.1/ChasteGuides/VisualisationGuides/UsingMeshalyzer/meshalyzer_fourth.png" /></a>
</p>
<p>
So far, we only loaded up the geometry of the simulation. We now want to plot our results on the given geometry. 
</p>
<p>
To do so, click on File--&gt;Read Data and choose one of your FILENAME_VARIABLENAME.dat file 
</p>
<p>
<a style="padding:0; border:none" href="/chaste/tutorials/release_2021.1/ChasteGuides/VisualisationGuides/UsingMeshalyzer/meshalyzer_fifth.png"><img src="/chaste/tutorials/release_2021.1/ChasteGuides/VisualisationGuides/UsingMeshalyzer/meshalyzer_fifth.png" /></a>
</p>
<p>
In this example, my Chaste simulation had given two variables as output (V and Phi_e). Once you choose one, the data will be plotted on your mesh. You can tune where you want your data shown with the drop-down menu <strong>Data on</strong> near the top. You can choose what you see by clicking the respective buttons. You can tune the spectrum below by adjusting minimum and maximum and you can play your simulation over time with the time player at the bottom. In the example below, you can see the variable V plotted with a spectrum from -83.853 (min) to 0 (max) at time 12 of the simulation. Variable is visualized on triangles and connections. Surface is hidden.
</p>
<p>
<a style="padding:0; border:none" href="/chaste/tutorials/release_2021.1/ChasteGuides/VisualisationGuides/UsingMeshalyzer/meshalyzer_sixth.png"><img src="/chaste/tutorials/release_2021.1/ChasteGuides/VisualisationGuides/UsingMeshalyzer/meshalyzer_sixth.png" /></a>
</p>
<p>
If you want to <strong>export</strong> an image, click on Output and select the desired format (png, eps, pdf available). If you want to record a movie, Meshalyzer will produce a sequence of images by clicking on Output--&gt;Record--&gt;Start and then starting the animation (big double green arrow at the bottom) and then Output--&gt;Record--&gt;Stop when you are done.
</p>
</div>
          

    </div>
  </body>
</html>

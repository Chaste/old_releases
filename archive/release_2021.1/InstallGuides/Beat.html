<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
  <head>
    <title>InstallGuides/Beat - Chaste</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="https://chaste.github.io/old_releases/trac.css" type="text/css" />
    <link rel="stylesheet" href="https://chaste.github.io/old_releases/wiki.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="https://chaste.github.io/old_releases/site.css" />
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <p>
          <a id="logo" href="https://chaste.github.io/"><img src="https://chaste.github.io/chaste_0256.png" alt="Chaste logo" height="60" /></a>
          <em>Documentation for <a href="https://chaste.github.io/old_releases/release_2021.1/">Release 2021.1</a>.</em>
        </p>
      </div>
    </div>
    <p>&nbsp;</p>
    <div id="content" class="wiki">
      <div class="wikipage searchable">
        
          <div id="wikipage" class="trac-content"><h1 id="GettingstartedonBeat">Getting started on Beat</h1>
<p>
Last updated October 2014.
</p>
<h2 id="Introduction">Introduction</h2>
<p>
On beat, almost all the Chaste dependencies are installed as system packages or in <tt>/opt</tt>. The only steps a new user needs to do are:
</p>
<ul><li>Install python packages
</li><li>Checkout the Chaste source code and confirm the right hostconfig file is loaded.
</li></ul><p>
Beat has two six-core CPUs with hyperthreading for a total of 24 logical cores. You should experiment to see if exploiting the hyperthreading (i.e. running 12-way or 24-way) is faster for your application.
</p>
<h2 id="Pythonpackages">Python packages</h2>
<p>
Execute the following commands and check for success (some of them will be installed already):
</p>
<pre class="wiki">pip install --user "python-dateutil==1.5"
easy_install --user "Amara==1.2.0.2"
pip install --user "rdflib==2.4.2"
pip install --user lxml
</pre><h2 id="CheckingouttheChastesource">Checking out the Chaste source</h2>
<p>
From your user area do:
</p>
<pre class="wiki">svn checkout https://chaste.cs.ox.ac.uk/svn/chaste/trunk/ Chaste --username YOUR_SVN_USER_NAME
</pre><h2 id="Hostconfig">Hostconfig</h2>
<p>
Some users do not have permission to checkout the <tt>python/hostconfig/machines</tt> directory containing the <tt>beat.py</tt> hostconfig file. If this is the case for you, copy and paste the code at the end of this section into <tt>python/hostconfig/local.py</tt> manually.
</p>
<p>
scons will tell you which machine file it's using in the first few lines, e.g.
</p>
<pre class="wiki">[louiecn@beat Chaste]$ scons
scons: Reading SConscript files ...
Using hostconfig settings from python/hostconfig/machines/beat.py
Running infrastructure tests...
</pre><p>
If you see something like
</p>
<pre class="wiki">Chaste dependencies folder /Users/administrator1/Documents/chaste-libs not found; please edit python/hostconfig/default.py
</pre><p>
then you need to make a <tt>local.py</tt>.
</p>
<p>
Happy Chasting!
</p>
<pre class="wiki"># Configuration for machines following Beat install guide located at
# https://chaste.cs.ox.ac.uk/trac/wiki/InstallGuides/Beat

"""Copyright (c) 2005-2014, University of Oxford.
All rights reserved.

University of Oxford means the Chancellor, Masters and Scholars of the
University of Oxford, having an administrative office at Wellington
Square, Oxford OX1 2JD, UK.

This file is part of Chaste.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:
 * Redistributions of source code must retain the above copyright notice,
   this list of conditions and the following disclaimer.
 * Redistributions in binary form must reproduce the above copyright notice,
   this list of conditions and the following disclaimer in the documentation
   and/or other materials provided with the distribution.
 * Neither the name of the University of Oxford nor the names of its
   contributors may be used to endorse or promote products derived from this
   software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE
LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
"""

import os

petsc_path = '/opt/petsc-3.5.2'
petsc_build_name = 'linux-gnu'
petsc_build_name_optimized = 'linux-gnu-opt'

use_cvode = True
use_vtk = True
other_includepaths = ['/usr/include/vtk/',
                      '/opt/xsd-3.3.0-x86_64-linux-gnu/libxsd']
other_libpaths = ['/usr/lib64/vtk/']

blas_lapack = ['flapack', 'fblas']

other_libraries = ['boost_system', 'boost_serialization', 'boost_filesystem', 'xerces-c', 'hdf5', 'z', 'parmetis', 'metis']
other_libraries.append(['vtkCommonCore','vtkCommonDataModel','vtkIOXML','vtkCommonExecutionModel','vtkFiltersCore','vtkFiltersGeometry','vtkFiltersModeling','vtkFiltersSources'])
other_libraries.append(['sundials_cvode', 'sundials_nvecserial'])

tools = {'xsd': '/opt/xsd-3.3.0-x86_64-linux-gnu/bin/xsd'}

def Configure(prefs, build):
    DetermineCvodeVersion(os.path.join(petsc_path,petsc_build_name,'include'))

</pre><h2 id="Appendix:commandsusedtocompilePETSc">Appendix: commands used to compile PETSc</h2>
<pre class="wiki">wget http://ftp.mcs.anl.gov/pub/petsc/release-snapshots/petsc-lite-3.5.2.tar.gz 
tar -xzf petsc-lite-3.5.2.tar.gz 
rm petsc-lite-3.5.2.tar.gz 
cd petsc-3.5.2/ 
export PETSC_DIR=`pwd` 
export PETSC_ARCH=linux-gnu 
./configure --with-cc=gcc --with-cxx=g++ --with-fc=gfortran --download-fblaslapack --download-mpich --download-hdf5 --download-parmetis --download-metis --download-hypre --download-sundials --with-x=false --with-shared-libraries
make all
export PETSC_ARCH=linux-gnu-opt 
./configure --with-cc=gcc --with-cxx=g++ --with-fc=gfortran --download-fblaslapack --download-mpich --download-hdf5 --download-parmetis --download-metis --download-hypre --download-sundials --with-x=false --with-shared-libraries --CXXOPTFLAGS="-O3" --COPTFLAGS="-O3" --with-debugging=0
make all
</pre></div>
          

    </div>
  </body>
</html>
